#include <iostream>
//#include <map>
#include <string>
#include <fstream>
#include <unordered_map>
#include <stdio.h>
std::unordered_map<std::string,double> mymap;

extern "C" 
{
  void set_tbl_();
  double lookforkey_(int *, int *, int *, int *, int *,int *, int *, int *, int *, int *);
}

double lookforkey_(int *l1, int *m1, int *l2, int *m2, int *l3, int *m3, int *n1, int *n2, int *n3, int *n4)
{
  std::string sl1 = std::to_string(*l1)+" "+std::to_string(*m1)+" ";
  std::string sl2 = std::to_string(*l2)+" "+std::to_string(*m2)+" ";
  std::string sl3 = std::to_string(*l3)+" "+std::to_string(*m3);
  std::string key = sl1+sl2+sl3;
  std::unordered_map<std::string,double>::iterator it;
  it = mymap.find(key);
  if (it == mymap.end()) {
    return 0.0;
  }
  return it->second;
}

void set_tbl_()
{
  std::string line;
  std::ifstream myfile ("tbl.dat");
  if (myfile.is_open())
  {
    while ( std::getline (myfile,line) )
    {
      mymap[line] = 5.5;
    }
    myfile.close();
  }
  return;
}

  
